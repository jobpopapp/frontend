<nav class="navbar navbar-expand-lg bg-white shadow-md border-bottom">
  <div class="container-fluid px-4">
    <!-- Mobile Sidebar Toggle -->
    <button
      class="btn btn-outline-primary d-lg-none me-3"
      type="button"
      (click)="toggleSidebar()"
    >
      <i class="bi bi-list"></i>
    </button>

    <!-- Page Title -->
    <div class="flex-grow-1">
      <h4 class="mb-0 fw-semibold text-dark">{{ pageTitle }}</h4>
    </div>

    <!-- Right Side Items -->
    <div class="d-flex align-items-center">
      <!-- Notifications -->
      <div class="dropdown me-3">
        <button
          class="btn btn-outline-primary position-relative"
          type="button"
          data-bs-toggle="dropdown"
        >
          <i class="bi bi-bell"></i>
          <span
            class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-primary"
            *ngIf="notificationCount > 0"
          >
            {{ notificationCount }}
          </span>
        </button>
        <ul class="dropdown-menu dropdown-menu-end">
          <li><h6 class="dropdown-header">Notifications</h6></li>
          <li *ngIf="notificationCount === 0">
            <span class="dropdown-item-text text-muted"
              >No new notifications</span
            >
          </li>
          <!-- Add notifications here when implemented -->
          <li><hr class="dropdown-divider" /></li>
          <li><a class="dropdown-item" href="#">View all notifications</a></li>
        </ul>
      </div>

      <!-- User/Company Profile Dropdown -->
      <div class="dropdown">
        <button
          class="btn btn-outline-secondary dropdown-toggle d-flex align-items-center"
          type="button"
          data-bs-toggle="dropdown"
        >
          <div class="company-avatar me-2">
            <ng-container *ngIf="!isAdminDashboard">
              {{ getCompanyInitials() }}
            </ng-container>
            <ng-container *ngIf="isAdminDashboard"> AD </ng-container>
          </div>
          <span class="d-none d-md-inline">
            <ng-container *ngIf="!isAdminDashboard">
              {{ currentCompany?.name || "Company" }}
            </ng-container>
            <ng-container *ngIf="isAdminDashboard"> Admin </ng-container>
          </span>
        </button>
        <ul class="dropdown-menu dropdown-menu-end">
          <li>
            <h6 class="dropdown-header">
              <ng-container *ngIf="!isAdminDashboard">
                {{ currentCompany?.name }}
              </ng-container>
              <ng-container *ngIf="isAdminDashboard">
                Administrator
              </ng-container>
            </h6>
          </li>
          <li>
            <span class="dropdown-item-text small text-muted">
              <ng-container *ngIf="!isAdminDashboard">
                {{ currentCompany?.email }}
              </ng-container>
              <ng-container *ngIf="isAdminDashboard">
                admin&#64;jobpop.app
              </ng-container>
            </span>
          </li>
          <li><hr class="dropdown-divider" /></li>
          <li *ngIf="!isAdminDashboard">
            <a
              class="dropdown-item"
              href="#"
              (click)="$event.preventDefault(); viewProfile()"
            >
              <i class="bi bi-person me-2"></i>Company Profile
            </a>
          </li>
          <li *ngIf="!isAdminDashboard">
            <a
              class="dropdown-item"
              href="#"
              (click)="$event.preventDefault(); viewSettings()"
            >
              <i class="bi bi-gear me-2"></i>Settings
            </a>
          </li>
          <li><hr class="dropdown-divider" /></li>
          <li>
            <a
              class="dropdown-item text-danger"
              href="#"
              (click)="$event.preventDefault(); logout()"
            >
              <i class="bi bi-box-arrow-right me-2"></i>Sign Out
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</nav>
