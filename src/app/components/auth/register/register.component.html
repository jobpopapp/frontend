<div class="adobe-register-layout">
  <!-- Left Side - Hero Image -->
  <div class="hero-section">
    <div class="hero-overlay">
      <div class="hero-content">
        <div class="hero-logo">
          <h1 class="brand-logo">JobPop</h1>
          <p class="brand-tagline">Start hiring the best talent today</p>
        </div>

        <div class="hero-features">
          <div class="feature-highlight">
            <i class="bi bi-check-circle-fill"></i>
            <span>Free company registration</span>
          </div>
          <div class="feature-highlight">
            <i class="bi bi-shield-check-fill"></i>
            <span>Secure and verified platform</span>
          </div>
          <div class="feature-highlight">
            <i class="bi bi-lightning-fill"></i>
            <span>Quick setup in minutes</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Background Image -->
    <div class="hero-background"></div>
  </div>

  <!-- Right Side - Register Form -->
  <div class="form-section">
    <div class="form-container">
      <!-- Home Button -->
      <div class="home-nav">
        <button routerLink="/home" class="home-btn" title="Back to Home">
          <i class="bi bi-house-fill"></i>
          <span>Home</span>
        </button>
      </div>

      <!-- Header -->
      <div class="form-header">
        <h2 class="form-title">Create your account</h2>
        <p class="form-subtitle">
          Join thousands of companies finding great talent
        </p>
      </div>

      <!-- Register Form -->
      <form
        [formGroup]="registerForm"
        (ngSubmit)="onSubmit()"
        novalidate
        class="register-form"
      >
        <!-- Company Name -->
        <div class="form-group">
          <div class="floating-input">
            <input
              type="text"
              id="name"
              formControlName="name"
              class="form-input"
              [class.error]="isFieldInvalid('name')"
              placeholder=" "
            />
            <label for="name" class="floating-label">Company Name</label>
          </div>
          <div class="error-message" *ngIf="isFieldInvalid('name')">
            <span *ngIf="registerForm.get('name')?.errors?.['required']"
              >Company name is required</span
            >
            <span *ngIf="registerForm.get('name')?.errors?.['minlength']"
              >Company name must be at least 2 characters</span
            >
          </div>
        </div>

        <!-- Email -->
        <div class="form-group">
          <div class="floating-input">
            <input
              type="email"
              id="email"
              formControlName="email"
              class="form-input"
              [class.error]="isFieldInvalid('email')"
              placeholder=" "
            />
            <label for="email" class="floating-label">Business Email</label>
          </div>
          <div class="error-message" *ngIf="isFieldInvalid('email')">
            <span *ngIf="registerForm.get('email')?.errors?.['required']"
              >Email is required</span
            >
            <span *ngIf="registerForm.get('email')?.errors?.['email']"
              >Please enter a valid email</span
            >
          </div>
        </div>

        <!-- Phone -->
        <div class="form-group">
          <div class="floating-input">
            <input
              type="tel"
              id="phone"
              formControlName="phone"
              class="form-input"
              [class.error]="isFieldInvalid('phone')"
              placeholder=" "
            />
            <label for="phone" class="floating-label">Phone Number</label>
          </div>
          <div class="error-message" *ngIf="isFieldInvalid('phone')">
            <span *ngIf="registerForm.get('phone')?.errors?.['required']"
              >Phone number is required</span
            >
            <span *ngIf="registerForm.get('phone')?.errors?.['pattern']"
              >Please enter a valid phone number</span
            >
          </div>
        </div>

        <!-- Country -->
        <div class="form-group">
          <div class="floating-input">
            <select
              id="country"
              formControlName="country"
              class="form-input form-select"
              [class.error]="isFieldInvalid('country')"
            >
              <option value="">Select your country</option>
              <option value="Kenya">Kenya</option>
              <option value="Uganda">Uganda</option>
              <option value="Tanzania">Tanzania</option>
              <option value="Rwanda">Rwanda</option>
              <option value="Other">Other</option>
            </select>
            <label for="country" class="floating-label">Country</label>
          </div>
          <div class="error-message" *ngIf="isFieldInvalid('country')">
            <span *ngIf="registerForm.get('country')?.errors?.['required']"
              >Country is required</span
            >
          </div>
        </div>

        <!-- Password -->
        <div class="form-group">
          <div class="floating-input password-input-group">
            <input
              [type]="showPassword ? 'text' : 'password'"
              id="password"
              formControlName="password"
              class="form-input"
              [class.error]="isFieldInvalid('password')"
              placeholder=" "
            />
            <label for="password" class="floating-label">Password</label>
            <button
              type="button"
              class="password-toggle"
              (click)="togglePasswordVisibility()"
              [attr.aria-label]="
                showPassword ? 'Hide password' : 'Show password'
              "
            >
              <i [class]="showPassword ? 'bi bi-eye-slash' : 'bi bi-eye'"></i>
            </button>
          </div>
          <div class="error-message" *ngIf="isFieldInvalid('password')">
            <span *ngIf="registerForm.get('password')?.errors?.['required']"
              >Password is required</span
            >
            <span *ngIf="registerForm.get('password')?.errors?.['minlength']"
              >Password must be at least 8 characters</span
            >
            <span *ngIf="registerForm.get('password')?.errors?.['pattern']"
              >Must contain uppercase, lowercase, and a number</span
            >
          </div>
        </div>

        <!-- Confirm Password -->
        <div class="form-group">
          <div class="floating-input password-input-group">
            <input
              [type]="showConfirmPassword ? 'text' : 'password'"
              id="confirmPassword"
              formControlName="confirmPassword"
              class="form-input"
              [class.error]="isFieldInvalid('confirmPassword')"
              placeholder=" "
            />
            <label for="confirmPassword" class="floating-label"
              >Confirm Password</label
            >
            <button
              type="button"
              class="password-toggle"
              (click)="toggleConfirmPasswordVisibility()"
              [attr.aria-label]="
                showConfirmPassword ? 'Hide password' : 'Show password'
              "
            >
              <i
                [class]="showConfirmPassword ? 'bi bi-eye-slash' : 'bi bi-eye'"
              ></i>
            </button>
          </div>
          <div class="error-message" *ngIf="isFieldInvalid('confirmPassword')">
            <span
              *ngIf="registerForm.get('confirmPassword')?.errors?.['required']"
              >Please confirm your password</span
            >
            <span
              *ngIf="registerForm.get('confirmPassword')?.errors?.['passwordMismatch']"
              >Passwords do not match</span
            >
          </div>
        </div>

        <!-- Terms Agreement -->
        <div class="form-options">
          <label class="checkbox-label">
            <input
              type="checkbox"
              formControlName="acceptTerms"
              class="checkbox-input"
            />
            <span class="checkbox-custom"></span>
            <span class="checkbox-text">
              I agree to the
              <a href="#" class="terms-link">Terms of Service</a> and
              <a href="#" class="terms-link">Privacy Policy</a>
            </span>
          </label>
          <div class="error-message" *ngIf="isFieldInvalid('acceptTerms')">
            <span *ngIf="registerForm.get('acceptTerms')?.errors?.['required']"
              >You must agree to the terms</span
            >
          </div>
        </div>

        <!-- Submit Button -->
        <button
          type="submit"
          class="submit-btn"
          [disabled]="registerForm.invalid || isLoading"
        >
          <span *ngIf="isLoading" class="loading-spinner"></span>
          <span>{{
            isLoading ? "Creating account..." : "Create account"
          }}</span>
        </button>

        <!-- Error Message -->
        <div class="global-error" *ngIf="errorMessage">
          <i class="bi bi-exclamation-circle"></i>
          <span>{{ errorMessage }}</span>
        </div>
      </form>

      <!-- Divider -->
      <div class="form-divider">
        <span>Already have an account?</span>
      </div>

      <!-- Login Link -->
      <div class="login-section">
        <p class="login-text">Sign in to your existing company account</p>
        <a routerLink="/login" class="login-btn"> Sign in instead </a>
      </div>

      <!-- Footer -->
      <div class="form-footer">
        <p class="footer-text">Â© 2025 JobPop. All rights reserved.</p>
      </div>
    </div>
  </div>
</div>
