<div class="subscription-container">
  <!-- Header Section -->
  <div class="subscription-header">
    <div class="header-content">
      <button class="back-btn" (click)="goToDashboard()">
        <i class="bi bi-arrow-left"></i>
        <span>Back to Dashboard</span>
      </button>

      <div class="header-text">
        <h1 class="page-title">Choose Your Subscription Plan</h1>
        <p class="page-subtitle">
          Select the perfect plan for your hiring needs. All plans include
          access to our premium job posting platform.
        </p>
      </div>
    </div>
  </div>

  <!-- Plans Section -->
  <div class="plans-section">
    <div class="plans-container">
      <div class="plans-grid">
        <div
          *ngFor="let plan of plans"
          class="plan-card"
          [class.popular]="plan.popular"
          [class.selected]="selectedPlan === plan.id"
        >
          <!-- Popular Badge -->
          <div *ngIf="plan.popular" class="popular-badge">
            <i class="bi bi-star-fill"></i>
            <span>Most Popular</span>
          </div>

          <!-- Plan Header -->
          <div class="plan-header">
            <h3 class="plan-name">{{ plan.name }}</h3>
            <p class="plan-description">{{ plan.description }}</p>
          </div>

          <!-- Pricing -->
          <div class="plan-pricing">
            <div class="price-display">
              <span class="price">{{ plan.priceText }}</span>
              <span class="duration">{{ plan.durationText }}</span>
            </div>

            <!-- Special savings notice for annual -->
            <div *ngIf="plan.id === 'annual'" class="savings-notice">
              <i class="bi bi-piggy-bank-fill"></i>
              <span
                >Save ${{ calculateMonthlySavings() }} compared to monthly
                billing</span
              >
            </div>
          </div>

          <!-- Features List -->
          <div class="plan-features">
            <h4 class="features-title">What's included:</h4>
            <ul class="features-list">
              <li *ngFor="let feature of plan.features" class="feature-item">
                <i class="bi bi-check-circle-fill"></i>
                <span>{{ feature }}</span>
              </li>
            </ul>
          </div>

          <!-- CTA Button -->
          <div class="plan-cta">
            <button
              class="subscribe-btn"
              [class.loading]="selectedPlan === plan.id && isLoading"
              [disabled]="isLoading"
              (click)="subscribeToPlan(plan)"
            >
              <span
                *ngIf="selectedPlan === plan.id && isLoading"
                class="loading-spinner"
              ></span>
              <span *ngIf="!(selectedPlan === plan.id && isLoading)">
                {{ plan.id === "per_job" ? "Buy Now" : "Subscribe Now" }}
              </span>
              <span *ngIf="selectedPlan === plan.id && isLoading"
                >Processing...</span
              >
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Additional Info Section -->
  <div class="info-section">
    <div class="info-container">
      <div class="info-grid">
        <div class="info-item">
          <div class="info-icon">
            <i class="bi bi-shield-check-fill"></i>
          </div>
          <h3>Secure Payments</h3>
          <p>
            All payments are processed securely through Pesapal with
            industry-standard encryption.
          </p>
        </div>

        <div class="info-item">
          <div class="info-icon">
            <i class="bi bi-arrow-clockwise"></i>
          </div>
          <h3>Cancel Anytime</h3>
          <p>
            No long-term commitments. Cancel your subscription at any time from
            your dashboard.
          </p>
        </div>

        <div class="info-item">
          <div class="info-icon">
            <i class="bi bi-headset"></i>
          </div>
          <h3>24/7 Support</h3>
          <p>
            Our dedicated support team is here to help you succeed with your
            hiring goals.
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- FAQ Section -->
  <div class="faq-section">
    <div class="faq-container">
      <h2 class="faq-title">Frequently Asked Questions</h2>
      <div class="faq-grid">
        <div class="faq-item">
          <h4>Can I change my plan later?</h4>
          <p>
            Yes, you can upgrade or downgrade your plan at any time from your
            dashboard. Changes take effect immediately.
          </p>
        </div>

        <div class="faq-item">
          <h4>What happens when my subscription expires?</h4>
          <p>
            Your job postings will remain visible but you won't be able to
            create new ones until you renew your subscription.
          </p>
        </div>

        <div class="faq-item">
          <h4>Do you offer refunds?</h4>
          <p>
            We offer a 7-day money-back guarantee for all subscription plans.
            Contact support for assistance.
          </p>
        </div>

        <div class="faq-item">
          <h4>Can I post jobs internationally?</h4>
          <p>
            Yes, all plans support posting jobs both in Uganda and abroad. You
            can specify the location for each job.
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
